(this.webpackJsonpylabel2=this.webpackJsonpylabel2||[]).push([[0],{364:function(e,t){},366:function(e,t){},377:function(e,t){},379:function(e,t){},406:function(e,t){},408:function(e,t){},409:function(e,t){},414:function(e,t){},416:function(e,t){},435:function(e,t){},447:function(e,t){},450:function(e,t){},461:function(e,t,a){"use strict";a.r(t);var n,r=a(0),i=a.n(r),l=a(10),o=a.n(l),c=a(40),s=(a(277),a(41)),u=(a(278),a(516)),d=a(45),m=a(38),p=a(54),f=a(65),b=a(236),h=a.n(b);n||(n={});var v=Object(p.b)({name:"classificationSlice",initialState:{classifications:{},labels:[],labelsToExample:{}},reducers:{addLabel:function(e,t){e.labels.includes(t.payload.name)||(e.labels.push(t.payload.name),e.labelsToExample[t.payload.name]=[])},deleteLabel:function(e,t){e.labels=e.labels.filter((function(e){return e!==t.payload.name})),e.labelsToExample[t.payload.name].forEach((function(t){delete e.classifications[t]})),delete e.labelsToExample[t.payload.name]},classify:function(e,t){var a=t.payload,n=a.exampleId,r=a.labelName,i=e.classifications[n];i===r||(void 0!==i&&(e.labelsToExample[i]=e.labelsToExample[i].filter((function(e){return e!==n}))),null!==r?(e.labelsToExample[r].push(n),e.classifications[n]=r):delete e.classifications[n])}}}),g=(v.actions,v.reducer),x=a(9),E=a.n(x),y=a(17),k=a(27),w=a(24),O=function(){function e(){Object(k.a)(this,e),this.items={}}return Object(w.a)(e,[{key:"get",value:function(e){return this.items[e]||0}},{key:"increment",value:function(e){var t=this.get(e);this.items[e]=t+1}}]),e}(),C=/[\b\s-.,!&:]+(?!$)/;function L(e){var t=new O,a=new Set;return e.content.split(C).forEach((function(e){e.match(/[\d]/)||(t.increment(e),a.add(e))})),{df:a,tf:t}}var j,I=function(){function e(){Object(k.a)(this,e),this.df=new O}return Object(w.a)(e,[{key:"fitTransform",value:function(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,a={},n=new O;e.forEach((function(e){var t=L(e);t.df.forEach((function(e){n.increment(e)})),a[e.exampleId]=t.tf}));var r={};return e.forEach((function(e){r[e.exampleId]={},Object.keys(n.items).forEach((function(i){n.get(i)>t&&(r[e.exampleId][i]=Math.log1p(a[e.exampleId].get(i)/n.get(i)))}))})),{tfIdf:r,df:n}}(e),a=t.tfIdf,n=t.df;return this.df=n,a}},{key:"transform",value:function(e){var t=this,a={},n={};e.forEach((function(e){var t=L(e);n[e.exampleId]=t.tf})),e.forEach((function(e){a[e.exampleId]={},Object.keys(t.df.items).forEach((function(r){a[e.exampleId][r]=Math.log1p(n[e.exampleId].get(r)/t.df.get(r))}))}))}}]),e}();!function(e){var t,a;!function(e){e.index="index",e.dataLoader="dataLoading",e.ai="ai"}(t||(t={})),e.EWorkerName=t,function(e){e.request="request",e.response="response",e.update="update"}(a||(a={})),e.ERquestOrResponesOrUpdate=a}(j||(j={}));var R,N=a(37),S=a(36);!function(e){var t,a,n,r;!function(e){e.startIndexing="startIndexing",e.startQuery="startQuery",e.startInit="startInit",e.startSignificantTerms="startSignificantTerms"}(t||(t={})),e.IndexRequestMessageKind=t,function(e){e.endIndexing="endIndexing",e.endQuery="endQuery",e.endInit="endInit",e.endSignificantTerms="endSignificantTerms"}(a||(a={})),e.IndexResponseMessageKind=a,n||(n=e.Request||(e.Request={})),r||(r=e.Response||(e.Response={}))}(R||(R={}));var P=function(){return new Worker(a.p+"static/js/ndx_worker.bundle.worker.js")},T=function(){function e(t){Object(k.a)(this,e),this.initialized=!1,this.requestId=0,this.responseListeners={},this.worker=t}return Object(w.a)(e,[{key:"nextRequestId",value:function(){return this.requestId++,this.requestId}},{key:"registerResponseHandler",value:function(e){var t=this;return new Promise((function(a){var n=function(n){n.data.kind&&n.data.requestId===e&&(t.worker.removeEventListener("message",t.responseListeners[e]),delete t.responseListeners[e],a(n.data.payload))};t.responseListeners[e]=n,t.worker.addEventListener("message",n)}))}}]),e}();var q,M=function(){};!function(e){e.tfidf="tfidf",e.insertToDb="insertToDb",e.trainSVM="trainSVM",e.vectorize="vectorize",e.validateModel="validateModel"}(q||(q={}));var z,F=function(e){Object(N.a)(a,e);var t=Object(S.a)(a);function a(){return Object(k.a)(this,a),t.call(this,new P)}return Object(w.a)(a,[{key:"initializeIndex",value:function(e){var t=this.nextRequestId(),a={workerName:j.EWorkerName.index,direction:j.ERquestOrResponesOrUpdate.request,requestId:t,kind:R.IndexRequestMessageKind.startInit,payload:{indexName:e}};this.worker.postMessage(a);var n=this;return this.registerResponseHandler(t).then((function(e){return n.initialized=!0,e}))}},{key:"addDocs",value:function(e){if(!this.initialized)throw new Error("The index is not initialized yet");var t=this.nextRequestId(),a={workerName:j.EWorkerName.index,direction:j.ERquestOrResponesOrUpdate.request,kind:R.IndexRequestMessageKind.startIndexing,requestId:t,payload:{examples:e}};return this.worker.postMessage(a),this.registerResponseHandler(t)}},{key:"getSignificantTermsForLabel",value:function(e){if(!this.initialized)return M("Index wasn't initialized"),Promise.reject();var t=this.nextRequestId(),a={workerName:j.EWorkerName.index,direction:j.ERquestOrResponesOrUpdate.request,kind:R.IndexRequestMessageKind.startSignificantTerms,requestId:t,payload:{labelName:e}};return this.worker.postMessage(a),this.registerResponseHandler(t)}},{key:"query",value:function(e){if(!this.initialized)throw new Error("The index is not initialized yet");var t=this.nextRequestId(),a={workerName:j.EWorkerName.index,direction:j.ERquestOrResponesOrUpdate.request,kind:R.IndexRequestMessageKind.startQuery,requestId:t,payload:{query:e}};return this.worker.postMessage(a),this.registerResponseHandler(t)}}],[{key:"getInstance",value:function(){return void 0===a.instance&&(a.instance=new a),a.instance}}]),a}(T),D=function(){return new Worker(a.p+"static/js/ai_worker.bundle.worker.js")};!function(e){var t,a,n,r,i,l;!function(e){e.startVectorize="startVectorize",e.startFitPredict="startFitPredict",e.startValidation="startValidation"}(t||(t={})),e.AIRequestMessageKind=t,function(e){e.endVectorize="endVectorize",e.endFitPredict="endFitPredict",e.endValidation="endValidation"}(a||(a={})),e.AIResponseMessageKind=a,function(e){e.updateVectorize="updateVectorize",e.updateFitPredict="updateFitPredict",e.updateValidation="updateValidation"}(n||(n={})),e.AIUpdateMessageKind=n,r||(r=e.Request||(e.Request={})),i||(i=e.Response||(e.Response={})),l||(l=e.Update||(e.Update={}))}(z||(z={}));var V,A=z,W=function(e){Object(N.a)(a,e);var t=Object(S.a)(a);function a(){var e;return Object(k.a)(this,a),(e=t.call(this,new D)).workerName=j.EWorkerName.ai,e.training=!1,e}return Object(w.a)(a,[{key:"beginVectorization",value:function(e){var t={workerName:this.workerName,direction:j.ERquestOrResponesOrUpdate.request,kind:A.AIRequestMessageKind.startVectorize,payload:{method:e},requestId:this.nextRequestId()};return this.worker.postMessage(t),this.registerResponseHandler(t.requestId)}},{key:"beginUniversalVectorizer",value:function(){return this.beginVectorization("universalSentenceEncoder")}},{key:"beginTfidfVectorizer",value:function(){return this.beginVectorization("tfidf")}},{key:"beginValidation",value:function(){var e={workerName:this.workerName,direction:j.ERquestOrResponesOrUpdate.request,kind:A.AIRequestMessageKind.startValidation,payload:{},requestId:this.nextRequestId()};return this.worker.postMessage(e),this.registerResponseHandler(e.requestId)}},{key:"beginFitPredict",value:function(){var e={workerName:this.workerName,direction:j.ERquestOrResponesOrUpdate.request,kind:A.AIRequestMessageKind.startFitPredict,payload:{},requestId:this.nextRequestId()};return this.worker.postMessage(e),this.registerResponseHandler(e.requestId)}},{key:"afterNewLabel",value:function(){var e=Object(y.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.training){e.next=2;break}return e.abrupt("return");case 2:return this.training=!0,e.next=5,this.beginFitPredict();case 5:this.training=!1;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return void 0===this.instance&&(this.instance=new a),this.instance}}]),a}(T);V||(V={});var B,H=Object(p.b)({name:"exampleSlice",initialState:{exampleIds:[],exampleIdsByDatasetName:{},exampleTermFrequency:{},docFrequency:{}},reducers:{addExamples:function(e,t){(new I).fitTransform(t.payload.examples),t.payload.examples.forEach((function(t){if(e.exampleIds.push(t.exampleId),t.datasetName){var a=e.exampleIdsByDatasetName[t.datasetName];a?a.push(t.exampleId):e.exampleIdsByDatasetName[t.datasetName]=[t.exampleId]}}))}}}),K=W.getInstance(),U=H.reducer,Q=a(25);B||(B={});var Y=Object(p.b)({name:"classificationSlice",initialState:{hasLabel:null,hasPrediction:null,label:null,searchQuery:null,predictedLabel:null,hasFilter:!1},reducers:{setSearchParams:function(e,t){Object.entries(t.payload.params).forEach((function(t){var a=Object(Q.a)(t,2),n=a[0],r=a[1];e[n]=r})),e.hasFilter=null!==e.hasLabel||null!==e.hasPrediction||null!==e.label||null!==e.predictedLabel}}});var J=Object(p.b)({name:"appMode",initialState:{mode:"Regular"},reducers:{changeMode:function(e,t){e.mode=t.payload.mode}}});Object(d.d)();Object(d.b)();var G=Object(m.c)({classificationReducer:g,exampleReducer:U,searchReducer:Y.reducer,appMode:J.reducer}),_={key:"root",storage:h.a},Z=Object(f.g)(_,G),$=Object(p.a)({reducer:Z,middleware:Object(p.c)({serializableCheck:{ignoredActions:[f.a,f.f,f.b,f.c,f.d,f.e]}})});Object(f.h)($);var X=c.c,ee=$,te=a(162),ae=a.n(te),ne=a(498),re=a(51),ie=a(508),le=a(509),oe=a(511),ce=a(512),se=a(466),ue=a(257),de=a(510),me=a(522),pe=a(256),fe=a(247),be=a.n(fe),he=a(246),ve=a.n(he),ge=a(244),xe=a.n(ge),Ee=a(245),ye=a.n(Ee),ke=a(248),we=a.n(ke),Oe=a(241),Ce=a.n(Oe),Le=a(16),je=(a(282),function(e){Object(N.a)(a,e);var t=Object(S.a)(a);function a(){var e;return Object(k.a)(this,a),(e=t.call(this,"OurDatabase")).version(8).stores({example:"exampleId,datasetName,label,hasLabel,hasPrediction,[hasPrediction+hasLabel],predictedLabel,[predictedLabel+label],[predictedLabel+hasLabel],confidence,hasNegativeOrRejectedLabel",label:"name",indexCache:"name",vector:"exampleId,label,hasLabel,hasNegativeOrRejectedLabel",tfidf:"exampleId,label,hasLabel,hasNegativeOrRejectedLabel",kfold:"[timestamp+kNumber+label],[timestamp+label]"}),e.example=e.table("example"),e.label=e.table("label"),e.indexCache=e.table("indexCache"),e.vector=e.table("vector"),e.tfidf=e.table("tfidf"),e.kfold=e.table("kfold"),e.changeCallbacks={example:[],label:[],indexCache:[],vector:[],tfidf:[],kfold:[]},e}return Object(w.a)(a,[{key:"addTableEventListener",value:function(e,t){this.changeCallbacks[e].push(t)}},{key:"removeTableEventListener",value:function(e,t){this.changeCallbacks[e]=this.changeCallbacks[e].filter((function(e){return e!==t}))}}]),a}(Le.a));function Ie(){return(Ie=Object(y.a)(E.a.mark((function e(t,a){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.label.where("name").equals(t).first();case 2:if(!(n=e.sent)){e.next=8;break}return r=n.count+a,e.abrupt("return",Re.label.update(t,{count:r}));case 8:return e.abrupt("return",Promise.reject("Couldn't find label \n    ".concat(t," in db")));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Re=function(){var e=new je;return e.on("changes",(function(t){var a={};t.forEach((function(t){!function(e,t){if("example"===e.table&&2===e.type){var a=(e=e).oldObj.label,n=e.obj.label;n===a||(void 0!==a&&(t[a]=t[a]-1||-1),void 0!==n&&(t[n]=t[n]+1||1))}}(t,a),e.changeCallbacks[t.table].forEach((function(e){return e(t)}))})),Promise.all(Object.entries(a).map((function(e){var t=Object(Q.a)(e,2);return function(e,t){return Ie.apply(this,arguments)}(t[0],t[1])}))),Object.keys(a).length})),e}(),Ne=(new je,a(237)),Se=a.n(Ne),Pe=F.getInstance();var Te=function(){var e=X((function(e){return e.searchReducer})),t=i.a.useCallback(Object(y.a)(E.a.mark((function t(){var a,n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(M("Calling search",e),a={hasLabel:e.hasLabel||void 0,hasPrediction:e.hasPrediction||void 0,label:e.label||void 0,predictedLabel:e.predictedLabel||void 0},Object.keys(a).forEach((function(e){return void 0===a[e]&&delete a[e]})),n=function(){return(e.hasFilter?Re.example.where(a):Re.example.toCollection()).primaryKeys().then((function(t){return M("Got back ".concat(t.length," from filter")),M("Filter was",e),t}))},!(null!==e.searchQuery&&e.searchQuery.length>0)){t.next=9;break}return r=e.searchQuery,t.abrupt("return",n().then(function(){var e=Object(y.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe.query(r);case 2:return a=e.sent,M('Search for "'.concat(r,'" and got ').concat(a.results.length," results")),e.abrupt("return",Se()(a.results.map((function(e){return e.exampleId})),t));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:return t.abrupt("return",n());case 10:case"end":return t.stop()}}),t)}))),[e]);return Object(s.d)(["search",e],t)},qe=a(500),Me=a(34),ze=a.n(Me),Fe=a(242),De=a.n(Fe),Ve=a(520),Ae=a(26),We=a(499),Be=ze()((function(e){return{inputRoot:{color:"inherit"},inputInput:Object(re.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),search:Object(re.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Ae.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Ae.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}}})),He=function(){var e=Be(),t=X((function(e){return e.searchReducer.searchQuery})),a=i.a.useState(t||void 0),n=Object(Q.a)(a,2),r=n[0],l=n[1],o=Te(),s=Object(c.b)(),u=i.a.useCallback(Ce()((function(e){s(Y.actions.setSearchParams({params:{searchQuery:e.target.value}}))}),150),[]);return i.a.useEffect((function(){t&&l(t)}),[t]),i.a.createElement("div",{className:e.search},i.a.createElement("div",{className:e.searchIcon},i.a.createElement(De.a,null)),i.a.createElement(Ve.a,{placeholder:"Search\u2026",value:r,onChange:function(e){l(e.target.value),u(e)},classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}}),i.a.createElement(We.a,{in:o.isLoading},i.a.createElement(qe.a,null)))},Ke=a(501),Ue=a(502),Qe=a(519),Ye=ze()({root:{},icon:{borderRadius:3,width:16,height:16},checkedIcon:{}}),Je=function(e){var t=Object(c.b)(),a=Ye(),n=X((function(e){return e.searchReducer}));return i.a.createElement(Ke.a,{row:!0,style:{display:"inline"}},i.a.createElement(Ue.a,{labelPlacement:"bottom",control:i.a.createElement(Qe.a,{checked:1===n.hasLabel,onChange:function(e,a){return t(Y.actions.setSearchParams({params:{hasLabel:a?1:null}}))},value:1===n.hasLabel}),label:i.a.createElement("span",{style:{fontSize:"0.75rem"}},"Show Labeled")}),i.a.createElement(Ue.a,{classes:a,labelPlacement:"bottom",control:i.a.createElement(Qe.a,{size:"small",style:{fontSize:"0.5rem"},checked:-1===n.hasLabel,onChange:function(e,a){return t(Y.actions.setSearchParams({params:{hasLabel:a?-1:null}}))},value:-1===n.hasLabel}),label:i.a.createElement("span",{style:{fontSize:"0.75rem"}},"Hide Labeled")}),i.a.createElement(Ue.a,{labelPlacement:"bottom",control:i.a.createElement(Qe.a,{checked:1===n.hasPrediction,onChange:function(e,a){return t(Y.actions.setSearchParams({params:{hasPrediction:a?1:null}}))},value:1===n.hasPrediction}),label:i.a.createElement("span",{style:{fontSize:"0.75rem"}},"Show Predicted")}),i.a.createElement(Ue.a,{labelPlacement:"bottom",control:i.a.createElement(Qe.a,{checked:-1===n.hasPrediction,onChange:function(e,a){return t(Y.actions.setSearchParams({params:{hasPrediction:a?-1:null}}))},value:-1===n.hasPrediction}),label:i.a.createElement("span",{style:{fontSize:"0.75rem"}},"Hide Predicted")}))},Ge=a(503),_e=function(){var e=X((function(e){return e.appMode.mode})),t=Object(c.b)();return i.a.createElement(Ue.a,{labelPlacement:"bottom",control:i.a.createElement(Ge.a,{value:"ActiveLearning"===e,onChange:function(){var a="Regular"===e?"ActiveLearning":"Regular";t(J.actions.changeMode({mode:a}))}}),label:"Active Learning"})},Ze=a(513),$e=a(104),Xe=a(42),et=a(243),tt=a.n(et),at=a(128),nt=a(504);function rt(){return it.apply(this,arguments)}function it(){return(it=Object(y.a)(E.a.mark((function e(){var t,a,n,r,i,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.example.orderBy(["hasPrediction","hasLabel"]).reverse().toArray();case 2:t=e.sent,a=t[0],n=Object.keys(a.metadata||{}),r=["exampleId","content","label","predictedLabel","confidence"].concat(Object(Xe.a)(n)),i=t.map((function(e){return Object($e.a)(Object($e.a)({},e),e.metadata||{})})),l=at.unparse({fields:r,data:i}),tt()(l,"ylabalResults.csv","text/csv");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lt=function(){var e=Object(s.c)(rt),t=Object(Q.a)(e,2),a=t[0],n=t[1];return i.a.createElement(nt.a,{variant:"contained",color:"primary",onClick:function(){return a()},disabled:n.isLoading},"Download")},ot=a(521),ct=a(505),st=a(506),ut=a(507),dt=ze()((function(e){return{header:{background:e.palette.error.main,color:e.palette.error.contrastText},button:{background:e.palette.error.main,color:e.palette.error.contrastText,"&:hover":{backgroundColor:e.palette.error.dark}}}}));function mt(){return pt.apply(this,arguments)}function pt(){return(pt=Object(y.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.delete();case 2:localStorage.removeItem("persist:root"),window.location.reload();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ft=function(){var e=i.a.useState(!1),t=Object(Q.a)(e,2),a=t[0],n=t[1],r=dt();return i.a.createElement(i.a.Fragment,null,i.a.createElement(nt.a,{onClick:function(){return n(!0)},className:r.button},"Start Over"),i.a.createElement(ot.a,{color:"danger",open:a,onClose:function(){return n(!1)}},i.a.createElement(ct.a,{className:r.header},i.a.createElement(ue.a,{variant:"h3"},"Delete All Data ?")),i.a.createElement(st.a,null,i.a.createElement(ue.a,{variant:"h4",gutterBottom:!0},"Your about to delete all of the work you've done."),i.a.createElement(ue.a,{variant:"h4",gutterBottom:!0},"Are you sure you want to ?")),i.a.createElement(ut.a,null,i.a.createElement(lt,null),i.a.createElement(nt.a,{variant:"outlined",onClick:mt,className:r.button},"Yes I'm Sure"))))},bt=ze()((function(){return{"@global":{".github-corner:hover .octo-arm":{animation:"octocat-wave 560ms ease-in-out"},"@keyframes octocat-wave":{"0%, 100%":{transform:"rotate(0)"},"20%, 60%":{transform:"rotate(-25deg)"},"40%, 80%":{transform:"rotate(10deg)"}},"@media (max-width: 500px)":{".github-corner:hover .octo-arm":{animation:"none"},".github-corner .octo-arm":{animation:"octocat-wave 560ms ease-in-out"}}}}})),ht=function(){return bt(),i.a.createElement("a",{href:"https://github.com/LightTag/ylabel2",className:"github-corner","aria-label":"View source on GitHub",target:"_blank"},i.a.createElement("svg",{width:"80",height:"80",viewBox:"0 0 250 250",style:{fill:"#151513",color:"#fff",position:"absolute",top:0,border:0,right:0},"aria-hidden":"true"},i.a.createElement("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),i.a.createElement("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{transformOrigin:"130px 106px"},className:"octo-arm"}),i.a.createElement("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",className:"octo-body"})))},vt=Object(ie.a)((function(e){return Object(le.a)({grow:{flexGrow:1},regularModeControls:Object(re.a)({position:"relative",borderRadius:e.shape.borderRadius,marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),menuButton:{marginRight:e.spacing(2)},title:Object(re.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),sectionDesktop:Object(re.a)({display:"none"},e.breakpoints.up("md"),{display:"flex",marginRight:e.spacing(6)}),sectionMobile:Object(re.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})})}));function gt(){var e=vt(),t=i.a.useState(null),a=Object(Q.a)(t,2),n=a[0],r=a[1],l=i.a.useState(null),o=Object(Q.a)(l,2),c=o[0],s=o[1],u=Boolean(n),d=Boolean(c),m="ActiveLearning"===X((function(e){return e.appMode.mode})),p=function(){s(null)},f=function(){r(null),p()},b=i.a.createElement(pe.a,{anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:u,onClose:f},i.a.createElement(me.a,{onClick:f},"Profile"),i.a.createElement(me.a,{onClick:f},"My account")),h="primary-search-account-menu-mobile",v=i.a.createElement(pe.a,{anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},id:h,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:d,onClose:p},i.a.createElement(me.a,null,i.a.createElement(se.a,{"aria-label":"show 4 new mails",color:"inherit"},i.a.createElement(de.a,{badgeContent:4,color:"secondary"},i.a.createElement(xe.a,null))),i.a.createElement("p",null,"Messages")),i.a.createElement(me.a,null,i.a.createElement(se.a,{"aria-label":"show 11 new notifications",color:"inherit"},i.a.createElement(de.a,{badgeContent:11,color:"secondary"},i.a.createElement(ye.a,null))),i.a.createElement("p",null,"Notifications")),i.a.createElement(me.a,{onClick:function(e){r(e.currentTarget)}},i.a.createElement(se.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},i.a.createElement(ve.a,null)),i.a.createElement("p",null,"Profile")));return i.a.createElement("div",{className:e.grow},i.a.createElement(oe.a,{position:"static"},i.a.createElement(ce.a,null,i.a.createElement(se.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer"},i.a.createElement(be.a,null)),i.a.createElement(ue.a,{className:e.title,variant:"h6",noWrap:!0},"YLabel"),i.a.createElement(_e,null),i.a.createElement(We.a,{in:!m},i.a.createElement("span",{className:e.regularModeControls},i.a.createElement(He,null))),i.a.createElement(Ze.a,{in:!m},i.a.createElement("span",{className:e.regularModeControls},i.a.createElement(Je,null))),i.a.createElement("div",{className:e.grow}),i.a.createElement("div",{className:e.sectionDesktop},i.a.createElement(ft,null),i.a.createElement(lt,null)),i.a.createElement("div",{className:e.sectionMobile},i.a.createElement(se.a,{"aria-label":"show more","aria-controls":h,"aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},color:"inherit"},i.a.createElement(we.a,null)))),i.a.createElement(ht,null)),v,b)}var xt=function(e,t,a,n){var r=Object(s.d)(e,(function(){return a(Re)}));return i.a.useEffect((function(){var e=function(e){e.table===t&&(void 0!==n&&n!==e.key||r.refetch())};return Re.addTableEventListener(t,e),function(){Re.removeTableEventListener(t,e)}}),[]),r},Et=a(79),yt=a(50),kt=function(e){var t=Object(yt.a)();return i.a.createElement(Et.a,{orientation:"vertical",style:{height:"calc(100vh - ".concat("64px",")"),padding:t.spacing(2)}},i.a.createElement(Et.b,{propagateDimensions:!0,flex:.25},i.a.createElement("div",{style:{height:"100%",maxHeight:"100%",overflowY:"hidden"}},e.Left)),i.a.createElement(Et.c,null),i.a.createElement(Et.b,{propagateDimensions:!0,flex:.5},i.a.createElement("div",{style:{height:"100%",maxHeight:"100%",overflowY:"auto"}},e.Middle)),i.a.createElement(Et.c,null),i.a.createElement(Et.b,{propagateDimensions:!0,flex:.25},i.a.createElement("div",{style:{height:"100%",maxHeight:"100%",overflowY:"hidden"}},i.a.createElement("div",{style:{padding:"2rem"}},e.Right))))},wt=a(517),Ot=a(251),Ct=a.n(Ot),Lt=function(){function e(){Object(k.a)(this,e),this.colormap={},this.size=0,this.labels=new Set}return Object(w.a)(e,[{key:"addLabel",value:function(e){this.labels.has(e)||(this.labels.add(e),this.recolor())}},{key:"getLabelColor",value:function(e){return this.addLabel(e),this.colormap[e]}},{key:"recolor",value:function(){var e=this,t=0,a=359/this.labels.size;this.colormap={},this.labels.forEach((function(n){e.colormap[n]=function(e,t,a){var n=It(e,t,a);return jt(n)}(t,.32,.6),t+=a}))}}]),e}();var jt=function(e){var t="#";return e.forEach((function(e){e<16&&(t+=0),t+=e.toString(16)})),t},It=function(e,t,a){var n=a<.5?a*(1+t):a+t-a*t,r=2*a-n;return[(e/=360)+1/3,e,e-1/3].map((function(e){return e<0&&e++,e>1&&e--,e=e<1/6?r+6*(n-r)*e:e<.5?n:e<2/3?r+6*(n-r)*(2/3-e):r,Math.round(255*e)}))},Rt=new Lt,Nt=ze()((function(e){return{root:{marginLeft:"0.1rem",padding:"0.2rem",boxShadow:"1px 1px 1px #CDCDCD",borderRadius:"2px",cursor:"pointer"},term:{},score:{}}})),St=function(e){var t=e.term,a=Nt();return i.a.createElement("div",{className:a.root,onClick:function(){return e.searchForTerm(t)}},i.a.createElement("div",{className:a.term},t))},Pt=function(e){return i.a.createElement(i.a.Fragment,null,e.terms.slice(0,22).map((function(t){return i.a.createElement(St,{term:t.word,score:t.score,label:e.label,searchForTerm:e.searchForTerm})})))},Tt=function(e){var t=Object(s.d)(["sigTerms",e.label,e.count],(function(){return e.labelController.getSignificantTerms(e.label)}),{cacheTime:0});return void 0===t.isLoading?i.a.createElement("div",null,'"calculating"'):t.isError?i.a.createElement("div",null," error"):t.data?(M({label:e.label,terms:t.data.terms.slice(10)}),i.a.createElement(Pt,{label:e.label,searchForTerm:e.labelController.searchForTerm,terms:t.data.terms})):i.a.createElement("div",null," problem ",JSON.stringify(t.isSuccess))},qt=i.a.memo((function(e){var t=e.labelName;return i.a.createElement("span",null,i.a.createElement(Ue.a,{control:i.a.createElement(Qe.a,{checked:e.labelController.filteredLabel===t,onChange:function(){e.labelController.filteredLabel===e.labelName?e.labelController.changeLabelFilter(null,"human"):e.labelController.changeLabelFilter(t,"human")},inputProps:{"aria-label":"primary checkbox"}}),label:"Labels"}),i.a.createElement(Ue.a,{control:i.a.createElement(Qe.a,{checked:e.labelController.filteredPrediction===t,onChange:function(){e.labelController.filteredPrediction===e.labelName?e.labelController.changeLabelFilter(null,"pred"):e.labelController.changeLabelFilter(t,"pred")},inputProps:{"aria-label":"primary checkbox"},color:"primary"}),label:"Predictions"}))})),Mt=ze()((function(e){return{root:{marginBottom:"2px",textOverflow:"ellipsis",cursor:"pointer",padding:e.spacing(1),marginRight:e.spacing(1),borderRadius:"4px",fontWeight:"bold",userSelect:"none",fontSize:"0.75rem",display:"inline-block",width:"100%",maxHeight:"200px",position:"relative",marginTop:"1rem","&>label":{padding:"0.15rem",background:"white",position:"absolute",top:"-1rem"}},nameContainer:{textTransform:"uppercase",fontWeight:"bold",fontSize:"0.75rem"},termsContainer:{marginTop:"1rem",border:"1px solid black",fontSize:"10px",position:"relative",display:"inline-flex",width:"100%","flex-wrap":"wrap","&>label":{padding:"0.15rem",background:"white",position:"absolute",top:"-1rem",fontSize:"0.7rem",border:"1px solid black",borderBottom:"none",borderRadius:"4px"}},controlorContainers:{width:"66%"},toggleButton:{border:"0.1rem solid white",padding:"0.25rem",textTransform:"uppercase",fontSize:"0.5rem"}}})),zt=i.a.memo((function(e){var t,a=Mt(),n=e.labelName,r=Rt.getLabelColor(n);t=i.a.useMemo((function(){var e=Rt.getLabelColor(n);return{borderColor:e,border:"1px solid ".concat(e)}}),[n]);return i.a.createElement("div",{style:t,className:a.root,onClick:function(){e.onClick&&(e.selected?e.onClick(null):e.onClick(n))},tabIndex:0},i.a.createElement("label",{className:a.nameContainer,style:{color:r}}," ",n," - ",e.count," "),i.a.createElement("span",{className:a.toggleButton,onClick:function(){return e.labelController.applyLabelToSearchResults(n)}}," ","Label All"," "),i.a.createElement(qt,{labelName:n,labelController:e.labelController}),i.a.createElement("span",{className:a.termsContainer},i.a.createElement("label",null,"Keywords"),i.a.createElement(Tt,{label:n,labelController:e.labelController,count:e.count})))}));function Ft(){var e=Object(c.b)(),t=X((function(e){return e.searchReducer})),a=t.label,n=t.predictedLabel,r=function(){var e=Te();return Object(s.c)((function(t){return Re.transaction("rw",[Re.example,Re.tfidf,Re.vector],Object(y.a)(E.a.mark((function a(){var n;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={label:t||void 0,hasLabel:null!==t?1:-1},a.next=3,Promise.all((e.data||[]).map(function(){var e=Object(y.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Promise.all([Re.example.update(t,n),Re.tfidf.update(t,n),Re.vector.update(t,n)]);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:case"end":return a.stop()}}),a)}))))}))}(),l=Object(Q.a)(r,1)[0];return i.a.useMemo((function(){return{getSignificantTerms:function(e){return F.getInstance().getSignificantTermsForLabel(e)},applyLabelToSearchResults:l,searchForTerm:function(t){e(Y.actions.setSearchParams({params:{searchQuery:t}}))},changeLabelFilter:function(t,a){var n={};"human"===a&&(n.label=t),"pred"===a&&(n.predictedLabel=t),e(Y.actions.setSearchParams({params:n}))},filteredLabel:a,filteredPrediction:n}}),[l,e,a,n])}var Dt=function(){var e=i.a.useState(),t=Object(Q.a)(e,2),a=t[0],n=t[1],r=Object(s.c)((function(e){return Re.label.add({name:e,kind:"label",count:0},e)})),l=Object(Q.a)(r,1)[0];return i.a.createElement("div",null,i.a.createElement(wt.a,{label:"Add a new label",value:a,onChange:function(e){return n(e.target.value)}}),i.a.createElement(se.a,{size:"small",disabled:void 0===a,onClick:function(){return a&&l(a)}},i.a.createElement(Ct.a,{fontSize:"small"})))};var Vt=function(e){var t=xt("labelStats","label",(function(e){return e.label.toArray()}),void 0),a=Ft();return t.data?i.a.createElement(i.a.Fragment,null,i.a.createElement(ue.a,{gutterBottom:!0,variant:"h4"},"Labels"),i.a.createElement(Dt,null),i.a.createElement("div",{style:{flexWrap:"wrap",display:"flex",width:"100%",maxHeight:"95%",overflowY:"auto",marginTop:"1rem"}},t.data.map((function(e,t){return i.a.createElement(zt,{labelController:a,selected:!1,count:e.count,labelName:e.name,key:e.name})})))):i.a.createElement("div",null,"loading")},At=a(252);var Wt=function(){return xt(["examples","forAL"],"example",function(){var e=Object(y.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.example.where({hasLabel:-1,hasPrediction:1});case 2:return a=e.sent,e.next=5,a.toArray();case 5:return n=e.sent,n=Object(At.sortBy)(n,(function(e){return e.confidence?-1*e.confidence:0})),e.abrupt("return",{size:a.count(),items:n});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),void 0)},Bt=i.a.createContext(null),Ht=function(e){var t,a=Wt(),n=i.a.useState(void 0),r=Object(Q.a)(n,2),l=r[0],o=r[1],c=i.a.useState(0),s=Object(Q.a)(c,2),u=s[0],d=s[1],m=null===(t=a.data)||void 0===t?void 0:t.items;i.a.useEffect((function(){d(0),0===u&&void 0===l&&void 0!==m&&o(m[u])}),[m]);var p=function(){var e=u+1;d(e),o(m?m[e]:void 0)},f=i.a.useMemo((function(){return{goToNext:p,currentExample:l}}),[l]);return i.a.createElement(Bt.Provider,{value:f},e.children)},Kt=a(467);function Ut(e,t){return Qt.apply(this,arguments)}function Qt(){return(Qt=Object(y.a)(E.a.mark((function e(t,a){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.example.get(t);case 2:return n=e.sent,(r=new Set((null===n||void 0===n?void 0:n.rejectedLabels)||[])).add(a),e.next=7,Re.transaction("rw",[Re.example,Re.tfidf,Re.vector],Object(y.a)(E.a.mark((function e(){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={hasNegativeOrRejectedLabel:1,rejectedLabels:Array.from(r)},e.next=3,Re.example.update(t,a);case 3:return e.next=5,Re.tfidf.update(t,a);case 5:return e.next=7,Re.vector.update(t,a);case 7:case"end":return e.stop()}}),e)}))));case 7:return M("rejected label ".concat(a," for example ").concat(t)),W.getInstance().afterNewLabel(),e.abrupt("return");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yt(e,t){return Re.transaction("rw",[Re.example,Re.tfidf,Re.vector],Object(y.a)(E.a.mark((function a(){var n,r;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Re.example.get(e);case 2:if(!(n=a.sent)){a.next=7;break}return r={label:t||void 0,hasLabel:null!==t?1:-1,hasNegativeOrRejectedLabel:t||(n.rejectedLabels||[]).length>0?1:-1},a.next=7,Promise.all([Re.example.update(e,r),Re.tfidf.update(e,r),Re.vector.update(e,r)]);case 7:case"end":return a.stop()}}),a)}))))}var Jt=ze()((function(e){return{cbRoot:{display:"inline",width:"fit-content",maxWidth:"20%",textOverflow:"ellipsis",cursor:"pointer",padding:e.spacing(1),marginRight:e.spacing(1),borderRadius:"4px",fontWeight:"bold",userSelect:"none"}}})),Gt=i.a.memo((function(e){var t=Jt(),a=e.labelName,n=i.a.useMemo((function(){var t=Rt.getLabelColor(a);return e.selected?{background:t,color:"white"}:{borderColor:t,color:t,border:"1px solid"}}),[a,e.selected]),r=i.a.useContext(Bt),l=function(){e.onClick&&(e.selected?e.onClick(null):(e.onClick(a),W.getInstance().afterNewLabel(),r&&r.goToNext()))};return i.a.createElement("div",{onKeyDown:function(e){"Enter"!==e.key&&32!==e.keyCode||(l(),e.preventDefault())},style:n,className:t.cbRoot,onClick:l,tabIndex:0},a," ",e.comment?" - ".concat(e.comment):null)})),_t=i.a.memo((function(e){var t=e.exampleId,a=xt("labels","label",(function(e){return e.label.toArray()}),void 0),n=xt(["exampleLabel",t],"example",(function(e){return e.example.where("exampleId").equals(t).first()}),e.exampleId);return a.data&&n.data?i.a.createElement("div",{tabIndex:0},a.data.map((function(e){var t;return i.a.createElement("span",{style:n.data.rejectedLabels.includes(e.name)?{opacity:.3}:{}},i.a.createElement(Gt,{labelName:e.name,selected:(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.label)===e.name,onClick:function(){return Yt(n.data.exampleId,e.name)}}))}))):null})),Zt=a(514),$t=Object(ie.a)((function(e){return{root:{boxShadow:"4px 4px 4px #CDCDCD ",margin:e.spacing(3),padding:e.spacing(3),lineHeight:"2.5rem"},body:{whiteSpace:"pre-wrap",fontSize:"16px",lineHeight:"32px"},divider:{margin:e.spacing(2,0)},ribbon:{height:"15%"}}})),Xt=function(e){var t,a,n,r,l=$t(),o=xt(["example",e.exampleId],"example",(function(t){return t.example.get(e.exampleId)}),e.exampleId),c=i.a.useContext(Bt);return i.a.useEffect((function(){e.onLoad&&e.onLoad()}),[o.data]),o.data?i.a.createElement(Kt.a,{className:l.root,style:{border:(null===(t=o.data)||void 0===t?void 0:t.predictedLabel)?"1px solid ".concat(Rt.getLabelColor(o.data.predictedLabel)):void 0}},i.a.createElement("div",{className:l.ribbon},i.a.createElement(ue.a,{variant:"subtitle1",color:"primary"},e.score||null),i.a.createElement(_t,{exampleId:e.exampleId})),i.a.createElement(Zt.a,{className:l.divider}),i.a.createElement("div",{style:{fontWeight:"bold"},onClick:function(){o.data&&o.data.predictedLabel&&(Ut(o.data.exampleId,o.data.predictedLabel),c&&c.goToNext())}}," ",(null===(a=o.data)||void 0===a?void 0:a.predictedLabel)||null," ",(null===(n=o.data)||void 0===n||null===(r=n.confidence)||void 0===r?void 0:r.toLocaleString("en",{style:"percent"}))||null),i.a.createElement(ue.a,{className:l.body,dir:"auto"},o.data.content)):i.a.createElement("div",null,"HI")},ea=function(){var e=i.a.useRef(null),t=i.a.useContext(Bt);if(i.a.useEffect((function(){e.current&&e.current.focus()})),!t)return i.a.createElement("div",null,"Not in an active learning context");if(void 0===t.currentExample)return i.a.createElement("div",null,"No example in context");return i.a.createElement("div",{ref:e,onKeyDown:function(e){t.currentExample&&t.currentExample.predictedLabel&&("x"===e.key&&(Ut(t.currentExample.exampleId,t.currentExample.predictedLabel),t.goToNext()),"a"===e.key&&(Yt(t.currentExample.exampleId,t.currentExample.predictedLabel),t.goToNext()))},tabIndex:0},i.a.createElement(Xt,{score:1,exampleId:t.currentExample.exampleId}),";",i.a.createElement(nt.a,{onClick:t.goToNext},"Skip"))},ta=function(e){return new Promise((function(t,a){var n={worker:!1,headerPlacement:!0,dynamicTyping:!0,complete:function(e){return t(e)},error:function(e){return a(e.message)},skipEmptyLines:!0,header:!0};at.parse(e,n)}))},aa=function(e){return new Promise((function(t,a){var n=new FileReader;n.onload=function(){try{var e=n.result,r=JSON.parse(e);Array.isArray(r)?t(r):a("The JSON you uploaded is a single object. Please convert it to an array of objects, one per example")}catch(i){a("This JSON has errors. Please validate the JSON and try again")}},n.readAsText(e)}))},na=function(){var e=Object(y.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.name.endsWith("json")){e.next=6;break}return e.next=3,aa(t);case 3:a=e.sent,e.next=10;break;case 6:return e.next=8,ta(t);case 8:n=e.sent,a=n.data;case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ra=a(253),ia=a.n(ra),la=a(515),oa=function(){var e=i.a.useRef(null),t=i.a.useState(),a=Object(Q.a)(t,2),n=a[0],r=a[1],l=i.a.useState(),o=Object(Q.a)(l,2),s=o[0],u=o[1],d=i.a.useState(),m=Object(Q.a)(d,2),p=m[0],f=m[1],b=i.a.useState(),h=Object(Q.a)(b,2),v=h[0],g=h[1],x=Object(c.b)(),k=function(){var t=Object(y.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!e){t.next=11;break}if(!e.current){t.next=11;break}if(!e.current.files){t.next=11;break}if(!e.current.files[0]){t.next=11;break}return t.next=8,na(e.current.files[0]);case 8:n=t.sent,g(n),r(Object.keys(n[0]));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return i.a.createElement(la.a,{container:!0,spacing:4},i.a.createElement(la.a,{item:!0,xs:12},i.a.createElement("input",{ref:e,accept:"text/csv, text/tsv, .csv,.tsv, .json",onChange:k,style:{display:"none"},id:"csv-file",multiple:!0,type:"file"}),i.a.createElement("label",{htmlFor:"csv-file"},i.a.createElement(nt.a,{fullWidth:!0,variant:"outlined",component:"span",color:"primary"},"Add A CSV"))),i.a.createElement(la.a,{item:!0,xs:12},i.a.createElement(wt.a,{required:!0,fullWidth:!0,disabled:!n,onChange:function(e){return u(e.target.value)},select:!0,label:"Data Column",helperText:"Which column will you be labeling? ",value:s},(n||[]).map((function(e){return i.a.createElement(me.a,{key:e,value:e},e)})))),i.a.createElement(la.a,{item:!0,xs:12},i.a.createElement(wt.a,{fullWidth:!0,disabled:!s,onChange:function(e){return f(e.target.value)},select:!0,label:"Label Column",helperText:"Is there a column with labels?  ",value:s},i.a.createElement(me.a,{key:"empty",value:void 0,disabled:!1},i.a.createElement(ue.a,{color:"error"}," No Labels ")),(n||[]).map((function(e){return i.a.createElement(me.a,{key:e,value:e,disabled:e===s},e)})))),i.a.createElement(la.a,{item:!0,xs:12},i.a.createElement(nt.a,{color:"primary",variant:"contained",disabled:!s,onClick:function(){var e,t=[];v&&s&&v.forEach((function(e){var a=Object($e.a)({},e);delete a[s],t.push({content:e[s],datasetName:"test",exampleId:ia()(e[s]).toString(),label:p?e[p]:void 0,hasLabel:p&&e[p]?1:-1,kind:"example",hasNegativeOrRejectedLabel:-1,rejectedLabels:[],metadata:a})})),x((e=t,Object(y.a)(E.a.mark((function t(){var a,n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a={direction:j.ERquestOrResponesOrUpdate.request,requestId:-100,workerName:j.EWorkerName.dataLoader,kind:q.insertToDb,payload:{examples:e}},n=F.getInstance(),K.worker.postMessage(a),n.addDocs(e);case 4:case"end":return t.stop()}}),t)})))))},fullWidth:!0},"Upload")))},ca=W.getInstance(),sa=function(){var e=i.a.useState(!1),t=Object(Q.a)(e,2),a=t[0],n=t[1],r=function(){var e=Object(y.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,ca.beginTfidfVectorizer();case 3:n(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(y.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,ca.beginUniversalVectorizer();case 3:n(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(y.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,ca.beginFitPredict();case 3:return e.next=5,n(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(y.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,ca.beginValidation();case 3:n(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,i.a.createElement(nt.a,{disabled:a,onClick:r},"Calculate TFIDF"),i.a.createElement(nt.a,{disabled:a,onClick:l},"Vectorize"),i.a.createElement(nt.a,{disabled:a,onClick:o},"Train SVM"),i.a.createElement(nt.a,{disabled:a,onClick:c,color:"primary"},"Val"),i.a.createElement(We.a,{in:a},i.a.createElement(qe.a,{variant:"indeterminate"})))},ua=a(106),da=new ua.c({fixedWidth:!0}),ma=function(e){return i.a.createElement(ua.b,{cache:da,columnIndex:0,key:e.virtualizedRowProps.key,parent:e.virtualizedRowProps.parent,rowIndex:e.virtualizedRowProps.index},(function(t){var a=t.measure;return i.a.createElement("div",{style:e.virtualizedRowProps.style},i.a.createElement(Xt,{key:e.exampleId,exampleId:e.exampleId,onLoad:a}))}))},pa=function(e){var t=e.exampleIds;return i.a.createElement(ua.a,null,(function(a){var n=a.height,r=a.width;return i.a.createElement(ua.d,{rowHeight:da.rowHeight,rowCount:t.length,width:r,height:n,rowRenderer:function(t){return i.a.createElement(ma,{virtualizedRowProps:t,exampleId:e.exampleIds[t.index]})},deferredMeasurementCache:da})}))},fa=function(){return i.a.createElement("div",{style:{width:"400px",margin:"auto"}},i.a.createElement(ue.a,{variant:"h3",gutterBottom:!0},"No Results"),i.a.createElement(ue.a,{variant:"h5",gutterBottom:!0},"We searched hard, but the current query doesn't have any matches"))},ba=function(){var e=Te(),t=e.data||[];return i.a.createElement(i.a.Fragment,null,i.a.createElement(We.a,{in:e.isLoading},i.a.createElement("div",null,"Loading")),i.a.createElement(We.a,{in:e.isSuccess&&t.length>0,mountOnEnter:!0,unmountOnExit:!0},i.a.createElement(pa,{exampleIds:t})),i.a.createElement(We.a,{in:e.isSuccess&&0===t.length,mountOnEnter:!0,unmountOnExit:!0},i.a.createElement(fa,null)))},ha=function(){var e="ActiveLearning"===X((function(e){return e.appMode.mode}));return i.a.createElement("div",{style:{height:"100%",padding:"2rem",maxHeight:"100%",overflowY:"auto"}},e?i.a.createElement(Ht,null,i.a.createElement(ea,null)):i.a.createElement(ba,null))},va=function(){return i.a.createElement(kt,{Left:i.a.createElement(Vt,null),Middle:i.a.createElement(ha,null),Right:i.a.createElement("div",null,i.a.createElement(sa,null)," ",i.a.createElement(oa,null))})},ga=function(){return i.a.createElement("div",{style:{width:"400px",margin:"auto"}},i.a.createElement(ue.a,{variant:"h3",gutterBottom:!0},"Hi! Welcome to YLabel"),i.a.createElement(ue.a,{variant:"h5",gutterBottom:!0},"YLabel helps you build natural language processing models."),i.a.createElement(ue.a,{variant:"h5",gutterBottom:!0},"Everything happens in the browser and your data never leaves your computer"),i.a.createElement(oa,null))},xa=function(){return i.a.createElement(kt,{Left:i.a.createElement("div",null),Middle:i.a.createElement(ga,null),Right:i.a.createElement("div",null)})},Ea=function(){return xt("exampleCount","example",(function(e){return e.example.count()}),void 0).data?i.a.createElement(va,null):i.a.createElement(xa,null)},ya=ae()({typography:{fontSize:10,fontFamily:"Roboto"}}),ka=new s.a,wa=ze()((function(){return{"@global":{"*:focus":{outline:0}}}}));var Oa=function(){var e=wa();return i.a.createElement(c.a,{store:ee},i.a.createElement(s.b,{queryCache:ka},i.a.createElement(ne.a,{theme:ya},i.a.createElement(u.a,{classes:e}),i.a.createElement(gt,null),i.a.createElement(Ea,null))))},Ca=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,523)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,l=t.getTTFB;a(e),n(e),r(e),i(e),l(e)}))};F.getInstance().initializeIndex().then((function(){})).catch((function(e){})),o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(Oa,null)),document.getElementById("root")),Ca()}},[[461,1,2]]]);
//# sourceMappingURL=main.5292ae17.chunk.js.map